library(psych)
library(corrplot)
library(lavaan)
library(semPlot)
POSDEV_CFA_final <- read.csv(file="../data/POS DEV Final CFA_June 15, 2023_08.07.csv")
POSDEVrm_followup <- read.csv(file="../data/POS DEV Final CFA - just RM_July 1, 2023_07.17.csv")
POSDEV_CFA_final$age <- ifelse(is.na(POSDEV_CFA_final$age), 0, POSDEV_CFA_final$age)
POSDEV_CFA_final <- POSDEV_CFA_final %>%
subset(age<66)
POSDEV_CFA_final$age <- ifelse(POSDEV_CFA_final$age==0, NA, POSDEV_CFA_final$age)
##removed read.csv(file='../data/POSDEV_adol_CFA_final.csv') in favor of using full df
POSDEV_caregiverchild_followup <- read.csv(file="../data/POS DEV Childhood Caregiver CFA (additional item)_July 17, 2023_11.16.csv") %>%
dplyr::select("POS_child6_1", "PROLIFIC_PID")
POSDEV_CFA_final_caregiver <- merge(POSDEV_CFA_final, POSDEV_caregiverchild_followup)
POSDEV_CFA_final <- merge(POSDEV_CFA_final, POSDEV_caregiverchild_followup, all.x = T)
POSDEV_CFA_final <- distinct(POSDEV_CFA_final) #remove duplicates introduced by merging
#Childhood
POSDEV_child_caregiver_CFA_final <- POSDEV_CFA_final %>%
dplyr::select("POS_child2_1":"POS_child37_1", "POS_child6_1")
POSDEV_child_friend_CFA_final <- POSDEV_CFA_final %>%
dplyr::select("POS_child67_1":"POS_child85_1", "POS_child66") %>%
subset(POS_child66=="3")
POSDEV_child_friend_CFA_final <- POSDEV_child_friend_CFA_final %>%
dplyr::select(-c("POS_child66"))
POSDEV_child_rolemodel_CFA_final1 <- POSDEV_CFA_final %>%
dplyr::select("POS_child3_RM_1":"POS_child26_RM_1", "POS_child1_RM") %>%
subset(POS_child1_RM=="1")
POSDEV_child_rolemodel_CFA_final1 <-  POSDEV_child_rolemodel_CFA_final1 %>%
dplyr::select(-c("POS_child1_RM"))
POSDEV_child_rolemodel_CFA_final2 <- POSDEVrm_followup %>%
dplyr::select("POS_child1_RM", "POS_child3_RM_1":"POS_child26_RM_1" ) %>%
subset(POS_child1_RM=="Yes")
POSDEV_child_rolemodel_CFA_final2 <-  POSDEV_child_rolemodel_CFA_final2 %>%
dplyr::select(-c("POS_child1_RM"))
POSDEV_child_rolemodel_CFA_final <- rbind(POSDEV_child_rolemodel_CFA_final1,POSDEV_child_rolemodel_CFA_final2)
POSDEV_child_other_CFA_final <- POSDEV_CFA_final %>%
dplyr::select("POS_child89_1":"POS_child99_1")
#Adolescence
POSDEV_adol_caregiver_CFA_final <- POSDEV_CFA_final %>%
dplyr::select("POS_adol2_1":"POS_adol37_1")
POSDEV_adol_friend_CFA_final <- POSDEV_CFA_final %>%
dplyr::select("POS_adol67_1":"POS_adol85_1", "POS_adol66") %>%
subset(POS_adol66=="1")
POSDEV_adol_friend_CFA_final <- POSDEV_adol_friend_CFA_final %>%
dplyr::select(-c("POS_adol66"))
POSDEV_adol_rolemodel_CFA_final1 <- POSDEV_CFA_final %>%
dplyr::select("POS_adol3_RM_1":"POS_adol26_RM_1", "POS_adol1_RM") %>%
subset(POS_adol1_RM=="1")
POSDEV_adol_rolemodel_CFA_final1 <- POSDEV_adol_rolemodel_CFA_final1 %>%
dplyr::select(-c("POS_adol1_RM"))
POSDEV_adol_rolemodel_CFA_final2 <- POSDEVrm_followup %>%
dplyr::select("POS_adol1_RM", "POS_adol3_RM_1":"POS_adol26_RM_1" ) %>%
subset(POS_adol1_RM=="Yes")
POSDEV_adol_rolemodel_CFA_final2 <-  POSDEV_adol_rolemodel_CFA_final2 %>%
dplyr::select(-c("POS_adol1_RM"))
POSDEV_adol_rolemodel_CFA_final <- rbind(POSDEV_adol_rolemodel_CFA_final1,POSDEV_adol_rolemodel_CFA_final2)
POSDEV_adol_other_CFA_final <- POSDEV_CFA_final %>%
dplyr::select("POS_adol89_1":"POS_adol100_1")
model <- 'G =~  POS_child2_1 + POS_child5_1   + POS_child13_1 +POS_child19_1 + POS_child22_1 + POS_child24_1 + POS_child25_1 + POS_child26_1  + POS_child29_1 + POS_child37_1 + POS_child35_1 + POS_child36_1 + POS_child6_1
safetyandsupport =~  POS_child19_1 + POS_child37_1 + POS_child35_1 + POS_child36_1
opportunity =~ POS_child24_1 +POS_child25_1 + POS_child22_1   + POS_child26_1 + POS_child29_1
predictability =~ POS_child13_1 + POS_child2_1 + POS_child5_1 + POS_child6_1
## restrictions --> make sure factors are uncorrelated
G ~~ 0*safetyandsupport
G ~~ 0*opportunity
G ~~ 0*predictability
safetyandsupport ~~ 0*opportunity
safetyandsupport ~~ 0*predictability
opportunity ~~ 0*predictability
#residual variances --> setting to 1
G ~~ 1*G
safetyandsupport ~~ 1*safetyandsupport
opportunity ~~ 1*opportunity
predictability ~~ 1*predictability'
fitG <- lavaan::cfa(model, data = scale(POSDEV_child_caregiver_CFA_final), std.lv=TRUE)
lavaan::summary(fitG, fit.measures = T, standardize=T)
View(POSDEV_CFA_final_caregiver)
model <- 'G =~  POS_child2_1 + POS_child5_1   + POS_child13_1 +POS_child19_1 + POS_child22_1 + POS_child24_1 + POS_child25_1 + POS_child26_1  + POS_child29_1 + POS_child37_1 + POS_child35_1 + POS_child36_1
safetyandsupport =~  POS_child19_1 + POS_child37_1 + POS_child35_1 + POS_child36_1
opportunity =~ POS_child24_1 +POS_child25_1 + POS_child22_1   + POS_child26_1 + POS_child29_1
predictability =~ POS_child13_1 + POS_child2_1 + POS_child5_1
## restrictions --> make sure factors are uncorrelated
G ~~ 0*safetyandsupport
G ~~ 0*opportunity
G ~~ 0*predictability
safetyandsupport ~~ 0*opportunity
safetyandsupport ~~ 0*predictability
opportunity ~~ 0*predictability
#residual variances --> setting to 1
G ~~ 1*G
safetyandsupport ~~ 1*safetyandsupport
opportunity ~~ 1*opportunity
predictability ~~ 1*predictability'
fitG <- lavaan::cfa(model, data = scale(POSDEV_child_caregiver_CFA_final), std.lv=TRUE)
lavaan::summary(fitG, fit.measures = T, standardize=T)
model <- 'G =~ POS_adol16_1 + POS_adol2_1 + POS_adol3_1 + POS_adol4_1 + POS_adol5_1 + POS_adol6_1 + POS_adol15_1  + POS_adol25_1 + POS_adol26_1 + POS_adol29_1 + POS_adol35_1 + POS_adol36_1 + POS_adol37_1
safetyandsupport =~ POS_adol15_1 + POS_adol35_1   + POS_adol16_1  + POS_adol36_1 + POS_adol37_1
opportunity =~ POS_adol25_1  + POS_adol26_1  + POS_adol29_1
predictability =~  POS_adol3_1 + POS_adol5_1 + POS_adol2_1 + POS_adol4_1  + POS_adol6_1
## restrictions --> make sure factors are uncorrelated
G ~~ 0*safetyandsupport
G ~~ 0*opportunity
G ~~ 0*predictability
safetyandsupport ~~ 0*opportunity
safetyandsupport ~~ 0*predictability
opportunity ~~ 0*predictability
#residual variances --> setting to 1
G ~~ 1*G
safetyandsupport ~~ 1*safetyandsupport
opportunity ~~ 1*opportunity
predictability ~~ 1*predictability'
fitG <- lavaan::cfa(model, data = POSDEV_adol_caregiver_CFA_final,std.lv=TRUE)
lavaan::summary(fitG, fit.measures = T, standardize=T)
model <- 'safetyandsupport =~ POS_child72_1 + POS_child79_1 + POS_child80_1  + POS_child84_1 + POS_child85_1
opportunity =~ POS_child76_1 + POS_child77_1 + POS_child78_1 + POS_child82_1 + POS_child83_1 + POS_child74_1
## restrictions --> make sure factors are uncorrelated
#residual variances --> setting to 1
safetyandsupport ~~ 1*safetyandsupport
opportunity ~~ 1*opportunity'
fitG <- lavaan::cfa(model, data = POSDEV_child_friend_CFA_final, std.lv=TRUE)
lavaan::summary(fitG, fit.measures = T, standardize=T)
model <- 'safetyandsupport =~  POS_adol72_1 + POS_adol81_1  + POS_adol85_1 + POS_adol84_1
opportunity =~ POS_adol83_1 + POS_adol76_1 + POS_adol78_1 + POS_adol82_1
#residual variances --> setting to 1
safetyandsupport ~~ 1*safetyandsupport
opportunity ~~ 1*opportunity'
fitG <- lavaan::cfa(model, data = POSDEV_adol_friend_CFA_final,std.lv=TRUE)
lavaan::summary(fitG, fit.measures = T, standardize=T)
model <- 'safetyandsupport =~  POS_adol72_1 + POS_adol81_1  + POS_adol85_1 + POS_adol84_1
opportunity =~ POS_adol83_1 + POS_adol76_1 + POS_adol78_1 + POS_adol82_1'
fitG <- lavaan::cfa(model, data = POSDEV_adol_friend_CFA_final,std.lv=TRUE)
lavaan::summary(fitG, fit.measures = T, standardize=T)
model <- 'safetyandsupport =~  POS_adol72_1 + POS_adol81_1  + POS_adol85_1 + POS_adol84_1
opportunity =~ POS_adol83_1 + POS_adol76_1 + POS_adol78_1 + POS_adol82_1'
fitG <- lavaan::cfa(model, data = POSDEV_adol_friend_CFA_final,std.lv=TRUE)
lavaan::summary(fitG, fit.measures = T, standardize=T)
model <- 'safetyandsupport =~  POS_adol72_1 + POS_adol81_1  + POS_adol85_1 + POS_adol84_1
opportunity =~ POS_adol83_1 + POS_adol76_1 + POS_adol78_1 + POS_adol82_1
#residual variances --> setting to 1
safetyandsupport ~~ 0*safetyandsupport
opportunity ~~ 0*opportunity'
fitG <- lavaan::cfa(model, data = POSDEV_adol_friend_CFA_final,std.lv=TRUE)
lavaan::summary(fitG, fit.measures = T, standardize=T)
model <- 'safetyandsupport =~  POS_adol72_1 + POS_adol81_1  + POS_adol85_1 + POS_adol84_1
opportunity =~ POS_adol83_1 + POS_adol76_1 + POS_adol78_1 + POS_adol82_1'
fitG <- lavaan::cfa(model, data = POSDEV_adol_friend_CFA_final,std.lv=TRUE)
lavaan::summary(fitG, fit.measures = T, standardize=T)
model <- 'safetyandsupport =~  POS_child20_RM_1  + POS_child8_RM_1 + POS_child26_RM_1 + POS_child22_RM_1
opportunity =~ POS_child12_RM_1 + POS_child10_RM_1   + POS_child24_RM_1 + POS_child9_RM_1
#residual variances --> setting to 1 #figure out if we still need this for this model fit
safetyandsupport ~~ 1*safetyandsupport
opportunity ~~ 1*opportunity'
fitG <- lavaan::cfa(model, data = (POSDEV_child_rolemodel_CFA_final), std.lv=TRUE)
lavaan::summary(fitG, fit.measures = T,standardized=T, nd=5)
model <- 'safetyandsupport =~ POS_adol20_RM_1 + POS_adol22_RM_1 + POS_adol26_RM_1
opportunity =~  POS_adol12_RM_1 + POS_adol10_RM_1  + POS_adol24_RM_1
#residual variances --> setting to 1
safetyandsupport ~~ 1*safetyandsupport
opportunity ~~ 1*opportunity'
fitG <- lavaan::cfa(model, data = POSDEV_adol_rolemodel_CFA_final, std.lv=TRUE)
#this scale a little unique: have to specify std.lv = FALSE to ID problematic item
lavaan::summary(fitG, fit.measures = T, standardized=T)
library(tidyverse)
library(psych)
library(EFAtools)
library(ggpubr)
POSDEV <- read.csv(file='../data/POS DEV_March 23, 2023_09.11.csv') %>%
subset(duplicated(PROLIFIC_PID)==FALSE) %>%
subset(Q158 != '55d7e6f669dbc30012b6826e')
#removing 4 duplicates
POSDEV_rolemodel <- read.csv(file='../data/POS DEV Adult Role Model_April 14, 2023_07.16.csv') %>%
subset(Q158 != '55d7e6f669dbc30012b6826e')
#for demo info
POSDEV_demo <- POSDEV[complete.cases(POSDEV[20:56]), ]
table(POSDEV_demo$age)
#Childhood
POSDEV_child_caregiver <- POSDEV %>%
dplyr::select("POS_child1_1":"POS_child37_1") %>%
na.omit() %>%
rename_at(.vars = vars(starts_with("POS_child")),
.funs = funs(sub("POS_child", "", .))) %>%
mutate_if(is.character, as.numeric)
POSDEV_child_friend <- POSDEV %>%
dplyr::select("POS_child67_1":"POS_child85_1", "POS_child66") %>%
subset(POS_child66=="Yes") %>%
na.omit()
POSDEV_child_friend <- POSDEV_child_friend %>%
dplyr::select(-c("POS_child66")) %>%
rename_at(.vars = vars(starts_with("POS_child")),
.funs = funs(sub("POS_child", "", .))) %>%
mutate_if(is.character, as.numeric)
POSDEV_child_rolemodel <- POSDEV_rolemodel %>%
dplyr::select("POS_child3_1":"POS_child26_1", "POS_child1") %>% #columns aren't consecutive in df
subset(POS_child1=="Yes") %>%
na.omit()
POSDEV_child_rolemodel <- POSDEV_child_rolemodel %>%
dplyr::select(-c("POS_child1")) %>%
rename_at(.vars = vars(starts_with("POS_child")),
.funs = funs(sub("POS_child", "", .))) %>%
mutate_if(is.character, as.numeric)
#Adolescence
POSDEV_adol_caregiver <- POSDEV %>%
dplyr::select("POS_adol1_1":"POS_adol37_1") %>%
na.omit() %>%
rename_at(.vars = vars(starts_with("POS_adol")),
.funs = funs(sub("POS_adol", "", .))) %>%
mutate_if(is.character, as.numeric)
POSDEV_adol_friend <- POSDEV %>%
dplyr::select("POS_adol67_1":"POS_adol85_1", "POS_adol66") %>% #columns aren't consecutive in df
subset(POS_adol66=="Yes") %>%
na.omit()
POSDEV_adol_friend <- POSDEV_adol_friend %>%
dplyr::select(-c("POS_adol66")) %>%
rename_at(.vars = vars(starts_with("POS_adol")),
.funs = funs(sub("POS_adol", "", .))) %>%
mutate_if(is.character, as.numeric)
POSDEV_adol_rolemodel <- POSDEV_rolemodel %>%
dplyr::select("POS_adol3_1":"POS_adol26_1", "POS_adol1") %>% #columns aren't consecutive in df
subset(POS_adol1=="Yes") %>%
na.omit()
POSDEV_adol_rolemodel <- POSDEV_adol_rolemodel %>%
dplyr::select(-c("POS_adol1")) %>%
rename_at(.vars = vars(starts_with("POS_adol")),
.funs = funs(sub("POS_adol", "", .))) %>%
mutate_if(is.character, as.numeric)
#remove religious questions
POSDEV_child_rolemodel <- dplyr::select(POSDEV_child_rolemodel, -c("13_1","14_1"))
POSDEV_adol_rolemodel <- dplyr::select(POSDEV_adol_rolemodel, -c("13_1","14_1"))
fa.none <- psych::fa(r=POSDEV_child_caregiver,
nfactors = 3,
covar = FALSE, SMC = TRUE,
fm="ml",
max.iter=100,
rotate="promax")
summary(fa.none)
SL_transformation <- EFAtools::SL(fa.none, type="psych", method="ML")
SL_transformation <- SL_transformation[[2]]
SL_transformation
#remove items
updatePOSDEV_child_caregiver <- dplyr::select(POSDEV_child_caregiver, -c("15_1","18_1", "20_1", "21_1"))
fa.none <- psych::fa(r=updatePOSDEV_child_caregiver,
nfactors = 3,
covar = FALSE, SMC = TRUE,
fm="ml",
max.iter=100,
rotate="promax")# no rotation
summary(fa.none)
SL_transformation <- EFAtools::SL(fa.none,type="psych", method="ML")
SL_transformation <- SL_transformation[[2]]
SL_transformation
update2POSDEV_child_caregiver <- dplyr::select(updatePOSDEV_child_caregiver, -c("12_1"))
fa.none <- psych::fa(r=update2POSDEV_child_caregiver,
nfactors = 3,
covar = FALSE, SMC = TRUE,
fm="ml",
max.iter=100,
rotate="promax")# no rotation
summary(fa.none)
SL_transformation <- EFAtools::SL(fa.none,type="psych", method="ML")
SL_transformation_child_caregiver <- SL_transformation[[2]]
SL_transformation_child_caregiver
SL_transformation_child_caregiver
View(SL_transformation)
SL_transformation[["vars_accounted"]]
SL_transformation[["L2"]]''
SL_transformation[["L2"]]
#extracting factors
#item reduction on three-factor structure
fa.none <- psych::fa(r=POSDEV_adol_caregiver,
nfactors = 3,
covar = FALSE, SMC = TRUE,
fm="ml",
max.iter=100,
rotate="promax")
summary(fa.none)
SL_transformation <- EFAtools::SL(fa.none, type="psych", method="ML")
SL_transformation <- SL_transformation[[2]]
SL_transformation
#remove items
updatePOSDEV_adol_caregiver <- dplyr::select(POSDEV_adol_caregiver, -c("13_1","21_1", "28_1", "32_1"))
#item reduction on three-factor structure
fa.none <- psych::fa(r=updatePOSDEV_adol_caregiver,
nfactors = 3,
covar = FALSE, SMC = TRUE,
fm="ml",
max.iter=100,
rotate="promax")# no rotation
summary(fa.none)
SL_transformation <- EFAtools::SL(fa.none, type="psych", method="ML")
SL_transformation <- SL_transformation[[2]]
SL_transformation
#remove items
update2POSDEV_adol_caregiver <- dplyr::select(updatePOSDEV_adol_caregiver, -c("30_1"))
#item reduction on three-factor structure
fa.none <- psych::fa(r=update2POSDEV_adol_caregiver,
nfactors = 3,
covar = FALSE, SMC = TRUE,
fm="ml",
max.iter=100,
rotate="promax")# no rotation
summary(fa.none)
SL_transformation <- EFAtools::SL(fa.none, type="psych", method="ML")
SL_transformation_adol_caregiver <- SL_transformation[[2]]
SL_transformation_adol_caregiver
#remove items
update3POSDEV_adol_caregiver <- dplyr::select(update2POSDEV_adol_caregiver, -c("14_1", "8_1", "10_1", "11_1"))
#item reduction on three-factor structure
fa.none <- psych::fa(r=update3POSDEV_adol_caregiver,
nfactors = 3,
covar = FALSE, SMC = TRUE,
fm="ml",
max.iter=100,
rotate="promax")# no rotation
summary(fa.none)
SL_transformation <- EFAtools::SL(fa.none,type="psych", method="ML")
SL_transformation_adol_caregiver <- SL_transformation[[2]]
SL_transformation_adol_caregiver
#remove items
update4POSDEV_adol_caregiver <- dplyr::select(update3POSDEV_adol_caregiver, -c("17_1"))
#item reduction on three-factor structure
fa.none <- psych::fa(r=update4POSDEV_adol_caregiver,
nfactors = 3,
covar = FALSE, SMC = TRUE,
fm="ml",
max.iter=100,
rotate="promax")# no rotation
summary(fa.none)
SL_transformation <- EFAtools::SL(fa.none,type="psych", method="ML")
SL_transformation_adol_caregiver <- SL_transformation[[2]]
SL_transformation_adol_caregiver
View(SL_transformation)
SL_transformation[["vars_accounted"]]
#extracting factors
#item reduction on three-factor structure
fa.none <- psych::fa(r=POSDEV_child_friend,
nfactors = 3,
covar = FALSE, SMC = TRUE,
fm="ml",
max.iter=100,
rotate="promax")# no rotation
summary(fa.none)
SL_transformation <- EFAtools::SL(fa.none,type="psych", method="ML")
SL_transformation <- SL_transformation[[2]]
SL_transformation
#remove items
updatePOSDEV_child_friend <- dplyr::select(POSDEV_child_friend, -c("68_1","73_1", "75_1"))
#item reduction on three-factor structure
fa.none <- psych::fa(r=updatePOSDEV_child_friend,
nfactors = 3,
covar = FALSE, SMC = TRUE,
fm="ml",
max.iter=100,
rotate="promax")# no rotation
summary(fa.none)
SL_transformation <- EFAtools::SL(fa.none,type="psych", method="ML")
SL_transformation_child_friend <- SL_transformation[[2]]
SL_transformation_child_friend
View(SL_transformation)
SL_transformation[["vars_accounted"]]
#extracting factors
#item reduction on three-factor structure
fa.none <- psych::fa(r=POSDEV_adol_friend,
nfactors = 3,
covar = FALSE, SMC = TRUE,
fm="ml",
max.iter=100,
rotate="promax")# no rotation
summary(fa.none)
SL_transformation <- EFAtools::SL(fa.none, type="psych", method="ML")
SL_transformation <- SL_transformation[[2]]
SL_transformation
#remove items
updatePOSDEV_adol_friend <- dplyr::select(POSDEV_adol_friend, -c("68_1","74_1"))
#item reduction on three-factor structure
fa.none <- psych::fa(r=updatePOSDEV_adol_friend,
nfactors = 3,
covar = FALSE, SMC = TRUE,
fm="ml",
max.iter=100,
rotate="promax")# no rotation
summary(fa.none)
SL_transformation <- EFAtools::SL(fa.none,type="psych", method="ML")
SL_transformation <- SL_transformation[[2]]
SL_transformation
#remove items
update2POSDEV_adol_friend <- dplyr::select(updatePOSDEV_adol_friend, -c("77_1"))
#item reduction on three-factor structure
fa.none <- psych::fa(r=update2POSDEV_adol_friend,
nfactors = 3,
covar = FALSE, SMC = TRUE,
fm="ml",
max.iter=100,
rotate="promax")# no rotation
summary(fa.none)
SL_transformation <- EFAtools::SL(fa.none,type="psych", method="ML")
SL_transformation_adol_friend <- SL_transformation[[2]]
SL_transformation_adol_friend
View(SL_transformation)
SL_transformation[["vars_accounted"]]
#extracting factors
#item reduction on three-factor structure
fa.none <- psych::fa(r=POSDEV_child_rolemodel,
nfactors = 3,
covar = FALSE, SMC = TRUE,
fm="ml",
max.iter=100,
rotate="promax") # no rotation
summary(fa.none)
SL_transformation <- EFAtools::SL(fa.none, type="psych", method="ML")
SL_transformation <- SL_transformation[[2]]
SL_transformation
#remove items
updatePOSDEV_child_rolemodel <- dplyr::select(POSDEV_child_rolemodel, -c("4_1", "6_1", "7_1", "16_1", "18_1", "19_1"))
fa.none <- psych::fa(r=updatePOSDEV_child_rolemodel,
nfactors = 3,
covar = FALSE, SMC = TRUE,
fm="ml",
max.iter=100,
rotate="promax")# no rotation
summary(fa.none)
SL_transformation <- EFAtools::SL(fa.none, type="psych", method="ML")
SL_transformation <- SL_transformation[[2]]
SL_transformation
#remove items
update2POSDEV_child_rolemodel <- dplyr::select(updatePOSDEV_child_rolemodel, -c("15_1", "25_1", "21_1"))
fa.none <- psych::fa(r=update2POSDEV_child_rolemodel,
nfactors = 3,
covar = FALSE, SMC = TRUE,
fm="ml",
max.iter=100,
rotate="promax")# no rotation
summary(fa.none)
SL_transformation <- EFAtools::SL(fa.none, type="psych", method="ML")
SL_transformation_child_rolemodel <- SL_transformation[[2]]
SL_transformation_child_rolemodel
#extracting factors
#item reduction on three-factor structure
fa.none <- psych::fa(r=POSDEV_child_rolemodel,
nfactors = 3,
covar = FALSE, SMC = TRUE,
fm="ml",
max.iter=100,
rotate="promax") # no rotation
summary(fa.none)
SL_transformation <- EFAtools::SL(fa.none, type="psych", method="ML")
SL_transformation <- SL_transformation[[2]]
SL_transformation
#remove items
updatePOSDEV_child_rolemodel <- dplyr::select(POSDEV_child_rolemodel, -c("4_1", "6_1", "7_1", "16_1", "18_1", "19_1"))
fa.none <- psych::fa(r=updatePOSDEV_child_rolemodel,
nfactors = 3,
covar = FALSE, SMC = TRUE,
fm="ml",
max.iter=100,
rotate="promax")# no rotation
summary(fa.none)
SL_transformation <- EFAtools::SL(fa.none, type="psych", method="ML")
SL_transformation <- SL_transformation[[2]]
SL_transformation
#remove items
update2POSDEV_child_rolemodel <- dplyr::select(updatePOSDEV_child_rolemodel, -c("15_1", "25_1", "21_1"))
fa.none <- psych::fa(r=update2POSDEV_child_rolemodel,
nfactors = 3,
covar = FALSE, SMC = TRUE,
fm="ml",
max.iter=100,
rotate="promax")# no rotation
summary(fa.none)
SL_transformation <- EFAtools::SL(fa.none, type="psych", method="ML")
SL_transformation_child_rolemodel <- SL_transformation[[2]]
SL_transformation_child_rolemodel
View(SL_transformation)
SL_transformation[["vars_accounted"]]
#extracting factors
#item reduction on three-factor structure
fa.none <- psych::fa(r=POSDEV_adol_rolemodel,
nfactors = 3,
covar = FALSE, SMC = TRUE,
fm="ml",
max.iter=100,
rotate="promax") # no rotation
summary(fa.none)
SL_transformation <- EFAtools::SL(fa.none, type="psych", method="ML")
SL_transformation <- SL_transformation[[2]]
SL_transformation
#remove items
updatePOSDEV_adol_rolemodel <- dplyr::select(POSDEV_adol_rolemodel, -c("6_1", "7_1", "8_1", "16_1", "18_1", "19_1", "23_1"))
fa.none <- psych::fa(r=updatePOSDEV_adol_rolemodel,
nfactors = 3,
covar = FALSE, SMC = TRUE,
fm="ml",
max.iter=100,
rotate="promax")# no rotation
summary(fa.none)
SL_transformation <- EFAtools::SL(fa.none, type="psych", method="ML")
SL_transformation <- SL_transformation[[2]]
SL_transformation
#remove items
update2POSDEV_adol_rolemodel <- dplyr::select(updatePOSDEV_adol_rolemodel, -c("15_1"))
fa.none <- psych::fa(r=update2POSDEV_adol_rolemodel,
nfactors = 3,
covar = FALSE, SMC = TRUE,
fm="ml",
max.iter=100,
rotate="promax")# no rotation
summary(fa.none)
SL_transformation <- EFAtools::SL(fa.none, type="psych", method="ML")
SL_transformation_adol_rolemodel <- SL_transformation[[2]]
SL_transformation_adol_rolemodel
SL_transformation_adol_rolemodel
View(SL_transformation)
SL_transformation[["vars_accounted"]]
